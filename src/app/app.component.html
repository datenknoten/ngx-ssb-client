<div class="ui top attached green menu">
    <a class="active item" (click)="updateFeed()">Public Feed</a>
    <a (click)="debug()" class="item">Private Feed</a>
    <a class="item">Gatherings</a>
    <a class="item">Discover</a>
    <a class="item">My Network</a>
    <div class="right menu">
        <div class="ui right aligned category search item">
            <div class="ui transparent icon input">
                <input class="prompt" placeholder="Search animals..." type="text">
                <i class="search link icon"></i>
            </div>
            <div class="results"></div>
        </div>
        <a class="item" href="" title="Settings">
            <i class="cogs icon"></i>
        </a>
    </div>
</div>
<app-new-posting #editor></app-new-posting>
<div class="ui grid" style="margin-left: 1em; margin-right: 1em;">
    <div class="twelve wide column" *ngIf="postingsObservable">
        <div *ngFor="let posting of postingsObservable | async">
            <app-posting [posting]="posting"></app-posting>
        </div>
    </div>
    <div class="four wide column">
        <div class="ui fluid card" style="margin-top: 1em;" *ngIf="(self | async)">
            <div class="image">
                <img src="http://localhost:8989/blobs/get/{{ (self | async).primaryImage }}">
            </div>
            <div class="content">
                <a class="header">{{ (self | async).primaryName }}</a>
            </div>
        </div>
        <div (click)="addPost()" class="ui green fab button">
            Post
        </div>
        <div class="ui vertical fluid green following menu" style="margin-top: 1em;" *ngIf="(self | async)">
            <div class="item">
                <i class="hashtag icon"></i>
                Channels
                <div class="menu">
                    <a href="" class="item">
                        #scuttlebutt
                        <div class="horizontal ui label" title="10 new messages">10</div>
                    </a>
                    <a href="" class="item">#bread</a>
                    <a href="" class="item">
                        #ssbc-grant
                        <div class="horizontal ui label" title="4 new messages">4</div>
                    </a>
                    <a href="" class="item">#hiking</a>
                    <a href="" class="item">#typescript</a>
                    <a href="" class="item">
                        #patchwork
                        <div class="horizontal ui label" title="6 new messages">6</div>
                    </a>
                </div>
            </div>
            <div class="item">
                <i class="users icon"></i>
                Following
                <div class="menu">
                    <a class="item" (click)="log(followee)" *ngFor="let followee of (self | async).following">
                        <img class="ui left spaced mini image" src="./assets/img/image.png" *ngIf="!followee.primaryImage">
                        <img class="ui left spaced mini image" src="http://localhost:8989/blobs/get/{{ followee.primaryImage }}" *ngIf="followee.primaryImage"> {{ followee.primaryName }}
                        <!-- <div class="horizontal ui label" title="3 new messages">3</div> -->
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
