<div style="margin-top: 1em;" *ngIf="true">
    <div class="ui top green attached segment">
        <div class="ui grid">
            <div class="two wide column">
                <img class="ui fluid rounded green image" [src]="getImage(posting.author)">
            </div>
            <div class="fourteen wide column">
                <p>
                    <a class="ui green image label">
                        <i class="user icon"></i>
                        <div class="detail" *ngIf="posting.author">{{ posting.author.name[0] }}</div>
                        <div class="detail" *ngIf="!posting.author">{{ posting.authorId }}</div>
                    </a>
                    <a class="ui green image label" [routerLink]="['/posting', posting.id]">
                        <i class="calendar icon"></i>
                        <div class="detail">{{ posting.date | humanReadableDate }}</div>
                    </a>
                    <a class="ui green image label">
                        <i class="heart icon"></i>
                        <div class="detail">{{ posting.voteCount }}</div>
                    </a>
                    <a class="ui green image label">
                        <i class="comment icon"></i>
                        <div class="detail">{{ posting.comments.length }}</div>
                    </a>
                    <a class="ui green image label" (click)="log()">
                        <i class="bug icon"></i>
                    </a>
                    <a class="ui green image label">
                        <i class="hourglass half icon"></i>
                        <div class="detail">{{ posting.totalReadingTime | humanReadableDuration }}</div>
                    </a>
                </p>
                <p *ngIf="posting.primaryChannel">
                    <a class="ui green image label">
                        <i class="hashtag icon"></i>
                        <div class="detail">{{ posting.primaryChannel }}</div>
                    </a>
                </p>
            </div>
        </div>
    </div>
    <div class="ui attached green segment">
        <div class="sixteen wide column" style="padding-top: 0;" [innerHtml]="convertHtml(posting.html) | safeHtml">
        </div>
    </div>
    <ng-container *ngIf="mode == 'full'">
        <div class="ui bottom green attached segment" *ngFor="let comment of posting.comments">
            <div class="ui grid">
                <div class="two wide column">
                    <img class="ui fluid rounded green image" [src]="getImage(comment.author)">
                </div>
                <div class="fourteen wide column">
                    <p>
                        <a class="ui green image label">
                            <i class="user icon"></i>
                            <div class="detail" *ngIf="comment.author">{{ comment.author.name[0] }}</div>
                            <div class="detail" *ngIf="!comment.author">{{ comment.authorId }}</div>
                        </a>
                        <a class="ui green image label">
                            <i class="calendar icon"></i>
                            <div class="detail">{{ comment.date | humanReadableDate }}</div>
                        </a>
                        <a class="ui green image label">
                            <i class="heart icon"></i>
                            <div class="detail">{{ comment.voteCount }}</div>
                        </a>
                    </p>
                </div>
                <div class="sixteen wide column" style="padding-top: 0;">
                    <div class="ui fitted divider"></div>
                </div>
                <div class="sixteen wide column" style="padding-top: 0;" [innerHtml]="convertHtml(comment.html) | safeHtml">
                </div>
            </div>
        </div>
        <div class="ui bottom green attached segment">
            <app-new-posting></app-new-posting>
        </div>
    </ng-container>
</div>
